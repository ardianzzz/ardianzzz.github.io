<!doctype html>
<html lang="EN">

<head>
    <meta charset="utf-8">
    <title>Penilaian Kinerja Sistem Irigasi Tersier dan Kinerja Perkumpulan Petani Pemakai Air</title>
    <meta name="description" content="">
    <!-- <meta name="viewport" content="width=1024px, initial-scale=1, user-scalable=no, minimal-ui"> -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <script type="text/javascript" src="js/vendor/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/plugin.js"></script>

    <script src="//api.mapbox.com/mapbox.js/v2.4.0/mapbox.js"></script>
    <script src='//api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>




    <script type="text/javascript">
        $(document).ready(function () {
            console.log('ready');

                $(".gallery__a").colorbox({rel:'group3', transition:"none", height:"75%"});
        });
    </script>



    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="site-header clearfix">

        <a href="index.html" class="logo">

        <img src="https://pbs.twimg.com/profile_images/2234552519/PU_Logo_400x400.jpg">

            Penilaian Kinerja Sistem Irigasi Tersier 
            <br>
dan Kinerja Perkumpulan Petani Pemakai Air
        </a>

</div>

    <div class="main">
        <div class="sidebar">
    <ul>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sendang Pitu</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Jamur Kulon</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Jamur Wetan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Cerbonan Kulon</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Cerbonan Wetan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sedayu Rewulu</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Rewulu 1</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Rewulu 2</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Gancahan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Kergan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sedayu</a></li>
        <li class="active"><a href="sekunder.html">Sedayu Barat</a>
            <ul>
                <li class="active"><a href="mardiraharjo.html">Mardiraharjo</a></li>
                <li><a href="sumber-makmur.html">Sumber Makmur</a></li>
                <li><a href="tirtosembodo.html">Tirtosembodo</a></li>
            </ul>
        </li>
        <li><a href="#">Sedayu Selatan</a></li>
        
    </ul>
</div>

<div class="mainbar">


        <div id="map"></div>
        <ul id='coordinates' class='ui-coordinates'></ul>
</div>


<script type="text/javascript">
var track = {"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2568337518843,-7.759936100931066,0],[110.2561826781862,-7.759441079689506,0],[110.2553110027094,-7.759193720637036,0],[110.2550383880491,-7.759119022857429,0],[110.2537887452778,-7.758739237323503,0],[110.2533789031393,-7.758633231438099,0],[110.2529746362648,-7.758789394334054,0],[110.2527995117938,-7.75892818442238,0],[110.2524560587579,-7.758865260673147,0],[110.2511368626525,-7.758496590772587,0],[110.2508136740492,-7.75913337860985,0],[110.2506824117265,-7.759257690648713,0],[110.2496816814604,-7.759000539661498,0],[110.2482870445379,-7.758092027281515,0],[110.2476168003882,-7.757342689670086,0],[110.2463341290711,-7.756882671947752,0],[110.2457512233578,-7.756690472408283,0],[110.245506091169,-7.756922594610007,0],[110.2450112040523,-7.757113364408371,0],[110.242964536314,-7.756450388536505,0],[110.2424352566888,-7.75647379178003,0],[110.2406740546932,-7.755828218162509,0],[110.236796816204,-7.75513045938634,0],[110.2363300495964,-7.756415617875076,0],[110.2353931565753,-7.759643462115234,0],[110.235006966372,-7.76092880731858,0],[110.2347682004016,-7.76165133918354,0],[110.2341147034067,-7.762337197089855,0],[110.232880914987,-7.764937466005907,0],[110.2328767575798,-7.768027596449656,0],[110.2317122646959,-7.771086168297225,0],[110.2327597994564,-7.770886839110808,0],[110.2322659961215,-7.772389001229563,0],[110.2321118286599,-7.774500537846258,0],[110.2313830488423,-7.781007420667645,0]]},"properties":{"name":"Saluran Sekunder Sedayu Barat","styleUrl":"#msn_ylw-pushpin10","styleHash":"eb4fc4f","styleMapHash":{"normal":"#sn_ylw-pushpin00","highlight":"#sh_ylw-pushpin10"},"stroke":"#0000ff","stroke-opacity":1}}]};

var point = [{"nomenclature":"BSB 12b","jenis":"Sadap","lat":"-7.769879987","lon":"110.2323283","notes":null,"foto":null},{"nomenclature":"BSB 11","jenis":"Sadap","lat":"-7.767131478","lon":"110.2328167","notes":null,"foto":"BSB11.jpg"}];

var tersier1 = {"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[110.2341159682477,-7.762505892596096,0],[110.2333848159132,-7.764007380317728,0],[110.2328341889055,-7.765203360432456,0],[110.2328602456393,-7.76592336506599,0],[110.2335371348899,-7.766777236148856,0],[110.2329802036811,-7.767094765719129,0],[110.2319970615023,-7.770686688442459,0],[110.2352788866689,-7.770333881693888,0],[110.2359489548558,-7.769194359020182,0],[110.236462358589,-7.769345545264687,0],[110.234627999187,-7.773372111949256,0],[110.2351299127892,-7.773622085854758,0],[110.2348994796551,-7.774954820693056,0],[110.2347898902627,-7.776092374515265,0],[110.2349847870185,-7.777593550151186,0],[110.2353907157133,-7.777691503207976,0],[110.2361699547903,-7.775475326346967,0],[110.2361331876496,-7.774696284943671,0],[110.2364568007043,-7.773881580755786,0],[110.2364660769974,-7.772955851806773,0],[110.2367086051032,-7.772060313366583,0],[110.2370450083713,-7.771279025246384,0],[110.237484124302,-7.771304348449678,0],[110.2375090538158,-7.771031596805642,0],[110.2375866968195,-7.770162796485632,0],[110.2376754485749,-7.769862106853849,0],[110.2379818981457,-7.769486294665833,0],[110.2380618084477,-7.76834958953449,0],[110.2383641017255,-7.767816331520195,0],[110.2385963286837,-7.767710028699666,0],[110.2386268861281,-7.765771310188172,0],[110.2390666143933,-7.763904559115646,0],[110.2387074197038,-7.762434803495481,0],[110.2350233299815,-7.761279962680543,0],[110.2341159682477,-7.762505892596096,0]]]},"properties":{"name":"Mardiraharjo ( Bsb 8 9 10 11) 69,7","styleUrl":"#msn_ylw-pushpin","styleHash":"-5069e1de","styleMapHash":{"normal":"#sn_ylw-pushpin","highlight":"#sh_ylw-pushpin"},"stroke":"#00ff00","stroke-opacity":1,"fill":"#00ff00","fill-opacity":0.09803921568627451}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2350569591727,-7.76128972408206,0],[110.2384472684004,-7.7623732779069,0],[110.2386687060465,-7.762785506115893,0],[110.2381035627518,-7.765555413596742,0],[110.2375423177778,-7.768303747304272,0],[110.2372362260691,-7.769652185853683,0],[110.2373209606718,-7.770048230812651,0],[110.2365307080928,-7.77177699962749,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.23580337995,-7.761532329967581,0],[110.2354147346524,-7.76269654112914,0],[110.2350071530354,-7.764069675391401,0],[110.2350500908863,-7.764108896711211,0],[110.2354737243391,-7.764686539462972,0],[110.2361267309568,-7.765662683857966,0],[110.2355295112905,-7.767614586038031,0],[110.2354146515162,-7.768821772213313,0],[110.2354615713462,-7.770027297120662,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2355334856001,-7.767632333285807,0],[110.2362782225111,-7.767900075022139,0],[110.2352275185128,-7.770913500386757,0],[110.2351844067118,-7.770996556088944,0],[110.234450025282,-7.770636112337978,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2328560739229,-7.767182987976032,0],[110.2329483388377,-7.767711327790754,0],[110.2334409473777,-7.767863313407685,0],[110.2337136690618,-7.767890857867128,0],[110.2340182672987,-7.767985636263282,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2327782789163,-7.767205300729889,0],[110.2327737143035,-7.767517553808571,0],[110.2325955101108,-7.767668523095461,0],[110.2325193128027,-7.768029204292108,0],[110.2328332646578,-7.768114944632389,0],[110.2328622248988,-7.768318569926898,0],[110.2326454247598,-7.768962581862085,0],[110.2323261811636,-7.769878035905698,0],[110.232225654096,-7.769992465864453,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2341048537607,-7.770459789255738,0],[110.2334009958394,-7.7700901973698,0],[110.2331529448456,-7.769820187533354,0],[110.2331216792068,-7.76974309069507,0],[110.2334155370663,-7.768739380015972,0],[110.2332533480395,-7.768454362103487,0],[110.2332420960202,-7.76808275252765,0],[110.2335888231527,-7.767679684653484,0],[110.2337514534119,-7.766964140836279,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2360833997189,-7.771777820455681,0],[110.2360843103894,-7.771827251534043,0],[110.2360854428258,-7.771888718785222,0],[110.2360549253034,-7.771997406007331,0],[110.2360342447956,-7.772045125522119,0],[110.2360031246858,-7.772104304800935,0],[110.2360047436436,-7.772176128341578,0],[110.2357975208606,-7.772417092568997,0],[110.2356942059263,-7.77375823427694,0],[110.2351907332152,-7.777927645460154,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}}]};


$(document).ready(function() {


	L.mapbox.accessToken = 'pk.eyJ1IjoiYXJkaWFuenp6IiwiYSI6InRaWW8yWFEifQ.S5eeIdeJffzKEo2dHXyBjQ';


    var myStyle = {
        "color": "#0087d0",
        "weight": 3,
        "opacity": 0.88
    };


     var style2 = function(feature) {
        switch (feature.geometry.type) {
            case 'LineString': return {color: "#f9c000", "weight": 2, "opacity": 0.88};
            case 'Polygon':   return {color: "#96be00", "weight": 1, "opacity": 0.64};
        }
    };


    var line = new L.geoJson(track, {
        style: myStyle
    });


    var line1 = new L.geoJson(tersier1, {
        style: style2
    });


    


    

    //var markers = L.markerClusterGroup();
    

  


    //map.addLayer(markers);
    //map.addLayer(line);
    //map.fitBounds(line.getBounds());



    var map = L.mapbox.map('map', 'mapbox.satellite', {
    	tileLayer: {
	        maxNativeZoom: 17 // The map will use zoom level 19 tiles for all zoom levels past 19
	    }
    })
    	.setView([-2.5, 118], 12)


    // var featureLayer = L.mapbox.featureLayer()
	   //  .setGeoJSON(track)
	   //  .addTo(map);





	

	var markers = new L.MarkerClusterGroup();
	var titik = [];
    // For each table row, create a marker.
    for (var i = 0; i < point.length; i++) {
        // Blank rows shouldn't be included - they're easy to detect and skip.
        if (point[i].lon === null || point[i].lat === null) continue;
        titik.push([point[i].lon, point[i].lat, point[i].jenis, point[i].nomenclature, point[i].notes, point[i].foto]);
    }

    for (var i = 0; i < titik.length; i++) {
        var a = titik[i];
        var foto = a[5];

        var marker = L.marker(new L.LatLng(a[1], a[0]), {
        	icon: L.mapbox.marker.icon({'marker-symbol': 'camera', 'marker-color': '0044FF'}),
        	foto: foto
        });
        marker.bindPopup('<div class="point-data"><div class="figure"><img src="img/sekunder/sedayu-barat/' + a[5] + '"></div><div class="meta"><div class="name">' + a[3] + '</div></div><div class="lat"><span>Lat</span> :' + a[1] + '</div><div class="long"><span>Long</span> : ' + a[0] + '</div></div></div>');
        markers.addLayer(marker);
    }


    map.addLayer(line);
    map.addLayer(line1);
    map.addLayer(markers);
    map.fitBounds(markers.getBounds());



    function onmove() {
	    // Get the map bounds - the top-left and bottom-right locations.
	    var inBounds = [],
	       bounds = map.getBounds();
           markers.eachLayer(function(marker) {
	        // For each marker, consider whether it is currently visible by comparing
	        // with the current map bounds.
	        if (bounds.contains(marker.getLatLng())) {
	            inBounds.push(marker.options.foto);
	        }
	    });
	    // Display a list of markers.
	    // document.getElementById('coordinates').innerHTML = inBounds.join('<br>');


        // var cList = $('#coordinates')
        // $.each(inBounds, function(i)
        // {
        //     var li = $('<li>'+ inBounds[i] +'</li>')
        //         .appendTo(cList);
        // });
	}

	map.on('move', onmove);

	// call onmove off the bat so that the list is populated.
	// otherwise, there will be no markers listed until the map is moved.
	onmove();



});
</script>

    </div>
</body>

</html>
