<!doctype html>
<html lang="EN">

<head>
    <meta charset="utf-8">
    <title>Penilaian Kinerja Sistem Irigasi Tersier dan Kinerja Perkumpulan Petani Pemakai Air</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <script type="text/javascript" src="js/vendor/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="http://www.jacklmoore.com/colorbox/jquery.colorbox.js"></script>

    <script src="//api.mapbox.com/mapbox.js/v2.4.0/mapbox.js"></script>
    <script src='//api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>




    <script type="text/javascript">
        $(document).ready(function () {
            console.log('ready');

                $(".gallery__a").colorbox({rel:'group3', transition:"none", height:"75%"});
        });
    </script>



    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="site-header clearfix">

        <a href="index.html" class="logo">

        <img src="https://pbs.twimg.com/profile_images/2234552519/PU_Logo_400x400.jpg">

            Penilaian Kinerja Sistem Irigasi Tersier 
            <br>
dan Kinerja Perkumpulan Petani Pemakai Air
        </a>

</div>

    <div class="main">
        <div class="page-header clearfix">
    <h1>Tersier BSB 4</h1>
    <div class="pull-right">
        <a href="img/tersier/sr1ki/indeks-kinerja.pdf" target="_Blank" class="btn btn--default btn--small">Laporan Kinerja Tersier
            <div class="icon-r">
                <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.172 13.004l-3.95 3.95 1.414 1.414 5.657-5.657.707-.7-.707-.708-5.657-5.657-1.414 1.415 3.95 3.95H4v2h12.172z"/></svg>
            </div>
        </a>
    </div>
</div>
<div style="position: absolute;top:11.2rem;right:0;bottom:0;width: 50%;">
    <div id="map"></div>
    <ul id='coordinates' class='ui-coordinates'></ul>
</div>
<div style="position: absolute;top:11.2rem;left:0;bottom:0;width: 50%;overflow: auto;-webkit-overflow-scrolling:touch">
    <div style="padding: 1.6rem;">
        <section>
            <table class="table-text">
                <tbody>
                    <tr>
                        <td>Nama Daerah Irigasi</td>
                        <td>:</td>
                        <td><a href="primer.html">Van Der Wijck</a></td>
                    </tr>
                    <tr>
                        <td>Luas Areal Daerah irigasi</td>
                        <td>:</td>
                        <td>3300 ha</td>
                    </tr>
                    <!-- <tr>
                        <td>Jumlah Wilayah Kerja Pelaksanaan OP</td>
                        <td>:</td>
                        <td>&hellip;Buah</td>
                    </tr> -->
                    <tr>
                        <td>Lokasi Kabupaten</td>
                        <td>:</td>
                        <td>Sleman</td>
                    </tr>
                    <tr>
                        <td>Nama Petak Tersier</td>
                        <td>:</td>
                        <td>BSB4</td>
                    </tr>
                    <tr>
                        <td>Nama P3A</td>
                        <td>:</td>
                        <td><a href="tirto-sembodo.html">Tirto Sembodo</a></td>
                    </tr>
                    <tr>
                        <td>Luas Areal</td>
                        <td>:</td>
                        <td>20 Ha</td>
                    </tr>
                    <tr>
                        <td>Luas Wilayah</td>
                        <td>:</td>
                        <td>20 Ha</td>
                    </tr>
                    <tr>
                        <td>Nama Ketua P3A</td>
                        <td>:</td>
                        <td>Katono</td>
                    </tr>
                </tbody>
            </table>
        </section>
        <!-- <div style="margin:0 0 .8rem">
            <a href="img/tersier/sr1ki/indeks-kinerja.pdf" target="_Blank" class="btn btn--primary btn--small">
            Laporan Kinerja Tersier
                <div class="icon-r">
                    <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16.172 13.004l-3.95 3.95 1.414 1.414 5.657-5.657.707-.7-.707-.708-5.657-5.657-1.414 1.415 3.95 3.95H4v2h12.172z"/></svg>
                </div>
            </a>
        </div> -->

        <section>
            <h2>Daftar bangunan</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th style="width: 40%;">Nama</th>
                        <th>Latitude</th>
                        <th>Longitude</th>
                        <th>Layanan</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            BSB4
                        </td>
                        <td>
                            -7.7565215
                        </td>
                        <td>
                        110.2429246
                        </td>
                        <td>
                        17,8 Ha
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
        <section>
            <h2>Galeri</h2>
            <div class="gallery">
                <div class="gallery__item">
                    <a href="img/tersier/bsb4/BSB4.jpg" title="Sadap BSB4" class="gallery__a">
                        <img src="img/tersier/bsb4/BSB4.jpg">
                    </a>
                </div>
            </div>
        </section>
    </div>
</div>



<script type="text/javascript">
var track = {"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[110.2394979466431,-7.766885804181682,0],[110.2397772902945,-7.766303893647384,0],[110.2401901216201,-7.766279521306114,0],[110.2405483201444,-7.765575782931727,0],[110.2403848120784,-7.765116303307695,0],[110.2411719757046,-7.76425672616598,0],[110.2410170870472,-7.763837204771779,0],[110.2410272708328,-7.763156545526839,0],[110.2415878333771,-7.762744358383124,0],[110.2424877914362,-7.760324699616739,0],[110.2421622022479,-7.760121381688951,0],[110.24179403625,-7.760283467119448,0],[110.2416304281445,-7.760221465319721,0],[110.2418960475295,-7.759494621115693,0],[110.2428095972753,-7.759693459931758,0],[110.2430494875577,-7.759316412907424,0],[110.2427757551752,-7.758849932895814,0],[110.243277873326,-7.757750233088759,0],[110.2428149671781,-7.757255299694928,0],[110.2427903432034,-7.756817136926986,0],[110.2423545828401,-7.756869889281241,0],[110.2423765077089,-7.75757221965795,0],[110.2425341231744,-7.758010907243131,0],[110.2423623990038,-7.758733105629655,0],[110.2414260136396,-7.758828885061595,0],[110.2412259692389,-7.759406881031047,0],[110.2408752288868,-7.759974373331906,0],[110.2408708174325,-7.760502608225932,0],[110.2404195727516,-7.760784569744029,0],[110.2391405945685,-7.763870674771554,0],[110.2386299537774,-7.765682017096418,0],[110.2386618882656,-7.766011631936208,0],[110.2387547905518,-7.766337501299118,0],[110.2390880738477,-7.766943191689547,0],[110.2394979466431,-7.766885804181682,0]]]},"properties":{"name":"Tirtosembodo ( B.Sb.4 5 6) 49 ha","styleUrl":"#m_ylw-pushpin3","styleHash":"406990f3","styleMapHash":{"normal":"#s_ylw-pushpin10","highlight":"#s_ylw-pushpin_hl40"},"stroke":"#00ff00","stroke-opacity":1,"fill":"#00ff00","fill-opacity":0.09803921568627451}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.242918201747,-7.756563251547698,0],[110.2428008845123,-7.756868341116358,0],[110.2423756704357,-7.756857237713356,0],[110.2423033485479,-7.757597721709614,0],[110.2425268747269,-7.758054662559439,0],[110.2423870179891,-7.758676008426662,0],[110.2420233113454,-7.758741082427076,0],[110.2414849402539,-7.760491461716742,0],[110.2403443586513,-7.764028754089574,0],[110.2400956052393,-7.763933634643045,0],[110.2394827520125,-7.766061065577179,0],[110.2391423297716,-7.76654409561738,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}}]};
var point = [{"nomenclature":"BSB4","lat":"-7.7565215","lon":"110.2429246","foto":"BSB4.JPG"}];


$(document).ready(function() {


    L.mapbox.accessToken = 'pk.eyJ1IjoiYXJkaWFuenp6IiwiYSI6InRaWW8yWFEifQ.S5eeIdeJffzKEo2dHXyBjQ';


    var myStyle = {
        "color": "#0087d0",
        "weight": 3,
        "opacity": 0.88
    };


     var style2 = function(feature) {
        switch (feature.geometry.type) {
            case 'LineString': return {color: "#f9c000", "weight": 2, "opacity": 0.88};
            case 'Polygon':   return {color: "#96be00", "weight": 1, "opacity": 0.64};
        }
    };


    var line = new L.geoJson(track, {
        style: style2
    });



    


    

    //var markers = L.markerClusterGroup();
    

  


    //map.addLayer(markers);
    //map.addLayer(line);
    //map.fitBounds(line.getBounds());



    var map = L.mapbox.map('map', 'mapbox.satellite', {
        tileLayer: {
            maxNativeZoom: 17 // The map will use zoom level 19 tiles for all zoom levels past 19
        }
    })
        .setView([-2.5, 118], 12)


    // var featureLayer = L.mapbox.featureLayer()
       //  .setGeoJSON(track)
       //  .addTo(map);





    

    var markers = new L.MarkerClusterGroup();
    var titik = [];
    // For each table row, create a marker.
    for (var i = 0; i < point.length; i++) {
        // Blank rows shouldn't be included - they're easy to detect and skip.
        if (point[i].lon === null || point[i].lat === null) continue;
        titik.push([point[i].lon, point[i].lat, point[i].jenis, point[i].nomenclature, point[i].notes, point[i].foto]);
    }

    for (var i = 0; i < titik.length; i++) {
        var a = titik[i];
        var foto = a[5];

        var marker = L.marker(new L.LatLng(a[1], a[0]), {
            icon: L.mapbox.marker.icon({'marker-symbol': 'camera', 'marker-color': '0044FF'}),
            foto: foto
        });
        marker.bindPopup('<div class="point-data"><div class="figure"><img src="img/tersier/bsb4/' + a[5] + '"></div><div class="meta"><div class="name">' + a[3] + '</div></div><div class="lat"><span>Lat</span> :' + a[1] + '</div><div class="long"><span>Long</span> : ' + a[0] + '</div></div></div>');
        markers.addLayer(marker);
    }


    map.addLayer(line);
    map.addLayer(markers);
    map.fitBounds(markers.getBounds());



    function onmove() {
        // Get the map bounds - the top-left and bottom-right locations.
        var inBounds = [],
           bounds = map.getBounds();
           markers.eachLayer(function(marker) {
            // For each marker, consider whether it is currently visible by comparing
            // with the current map bounds.
            if (bounds.contains(marker.getLatLng())) {
                inBounds.push(marker.options.foto);
            }
        });
        // Display a list of markers.
        // document.getElementById('coordinates').innerHTML = inBounds.join('<br>');


        // var cList = $('#coordinates')
        // $.each(inBounds, function(i)
        // {
        //     var li = $('<li>'+ inBounds[i] +'</li>')
        //         .appendTo(cList);
        // });
    }

    map.on('move', onmove);

    // call onmove off the bat so that the list is populated.
    // otherwise, there will be no markers listed until the map is moved.
    onmove();



});
</script>

    </div>
</body>

</html>
