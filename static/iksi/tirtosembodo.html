<!doctype html>
<html lang="EN">

<head>
    <meta charset="utf-8">
    <title>üòù</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <script type="text/javascript" src="js/vendor/jquery-2.1.1.min.js"></script>

    <script src="//api.mapbox.com/mapbox.js/v2.4.0/mapbox.js"></script>
    <script src='//api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>


    <script type="text/javascript">
        $(document).ready(function () {
            console.log('ready');
        });
    </script>

    <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="site-header">

        <a href="index.html" class="logo">
Van Der Wijk
        </a>

</div>

    <div class="wrap" id="content">
        <div class="sidebar">
    <ul>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sendang Pitu</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Jamur Kulon</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Jamur Wetan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Cerbonan Kulon</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Cerbonan Wetan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sedayu Rewulu</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Rewulu 1</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Rewulu 2</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Gancahan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Kergan</a></li>
        <li><a href="javascript:void(0)" onclick="alert('data belum tersedia')">Sedayu</a></li>
        <li class="active"><a href="sekunder.html">Sedayu Barat</a>
            <ul>
                <li><a href="mardiraharjo.html">Mardiraharjo</a></li>
                <li><a href="sumber-makmur.html">Sumber Makmur</a></li>
                <li class="active"><a href="tirtosembodo.html">Tirtosembodo</a></li>
            </ul>
        </li>
        <li><a href="#">Sedayu Selatan</a></li>
        
    </ul>
</div>

<div class="mainbar">


        <div id="map"></div>
        <ul id='coordinates' class='ui-coordinates'></ul>
</div>


<script type="text/javascript">
var track = {"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2568337518843,-7.759936100931066,0],[110.2561826781862,-7.759441079689506,0],[110.2553110027094,-7.759193720637036,0],[110.2550383880491,-7.759119022857429,0],[110.2537887452778,-7.758739237323503,0],[110.2533789031393,-7.758633231438099,0],[110.2529746362648,-7.758789394334054,0],[110.2527995117938,-7.75892818442238,0],[110.2524560587579,-7.758865260673147,0],[110.2511368626525,-7.758496590772587,0],[110.2508136740492,-7.75913337860985,0],[110.2506824117265,-7.759257690648713,0],[110.2496816814604,-7.759000539661498,0],[110.2482870445379,-7.758092027281515,0],[110.2476168003882,-7.757342689670086,0],[110.2463341290711,-7.756882671947752,0],[110.2457512233578,-7.756690472408283,0],[110.245506091169,-7.756922594610007,0],[110.2450112040523,-7.757113364408371,0],[110.242964536314,-7.756450388536505,0],[110.2424352566888,-7.75647379178003,0],[110.2406740546932,-7.755828218162509,0],[110.236796816204,-7.75513045938634,0],[110.2363300495964,-7.756415617875076,0],[110.2353931565753,-7.759643462115234,0],[110.235006966372,-7.76092880731858,0],[110.2347682004016,-7.76165133918354,0],[110.2341147034067,-7.762337197089855,0],[110.232880914987,-7.764937466005907,0],[110.2328767575798,-7.768027596449656,0],[110.2317122646959,-7.771086168297225,0],[110.2327597994564,-7.770886839110808,0],[110.2322659961215,-7.772389001229563,0],[110.2321118286599,-7.774500537846258,0],[110.2313830488423,-7.781007420667645,0]]},"properties":{"name":"Saluran Sekunder Sedayu Barat","styleUrl":"#msn_ylw-pushpin10","styleHash":"eb4fc4f","styleMapHash":{"normal":"#sn_ylw-pushpin00","highlight":"#sh_ylw-pushpin10"},"stroke":"#0000ff","stroke-opacity":1}}]};

var point = [{"nomenclature":"BSB 7","jenis":"Sadap","lat":"-7.759771748","lon":"110.2353643","notes":null,"foto":null},{"nomenclature":"BSB 6","jenis":"Sadap","lat":"-7.756370958","lon":"110.2363728","notes":null,"foto":null},{"nomenclature":"BSB 5","jenis":"Sadap","lat":"-7.75577886","lon":"110.2406552","notes":null,"foto":null},{"nomenclature":"BSB 4","jenis":"Sadap","lat":"-7.756521497","lon":"110.2429246","notes":null,"foto":"BSB4.jpg"}];

var tersier1 = {"type":"FeatureCollection","features":[{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2363935024416,-7.756432609349482,0],[110.2383020655095,-7.757061396644258,0],[110.2387425341111,-7.75828419519186,0],[110.2392880834568,-7.759826512976467,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2372702734454,-7.756799045153616,0],[110.2365276279362,-7.759194490099045,0],[110.2391162337585,-7.76012557717751,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2365088015479,-7.759284244106167,0],[110.2358700226997,-7.7613174591949,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.242918201747,-7.756563251547698,0],[110.2428008845123,-7.756868341116358,0],[110.2423756704357,-7.756857237713356,0],[110.2423033485479,-7.757597721709614,0],[110.2425268747269,-7.758054662559439,0],[110.2423870179891,-7.758676008426662,0],[110.2420233113454,-7.758741082427076,0],[110.2414849402539,-7.760491461716742,0],[110.2403443586513,-7.764028754089574,0],[110.2400956052393,-7.763933634643045,0],[110.2394827520125,-7.766061065577179,0],[110.2391423297716,-7.76654409561738,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"LineString","coordinates":[[110.2406099105511,-7.755829067156293,0],[110.2400178789877,-7.757541546137079,0],[110.2396995897668,-7.758515210100336,0]]},"properties":{"name":"Jalur Tanpa Judul","styleUrl":"#msn_U","styleHash":"-4657bfe4","styleMapHash":{"normal":"#sn_U","highlight":"#sh_U"},"stroke":"#ff0000","stroke-opacity":1}},{"type":"Feature","geometry":{"type":"Polygon","coordinates":[[[110.2394979466431,-7.766885804181682,0],[110.2397772902945,-7.766303893647384,0],[110.2401901216201,-7.766279521306114,0],[110.2405483201444,-7.765575782931727,0],[110.2403848120784,-7.765116303307695,0],[110.2411719757046,-7.76425672616598,0],[110.2410170870472,-7.763837204771779,0],[110.2410272708328,-7.763156545526839,0],[110.2415878333771,-7.762744358383124,0],[110.2424877914362,-7.760324699616739,0],[110.2421622022479,-7.760121381688951,0],[110.24179403625,-7.760283467119448,0],[110.2416304281445,-7.760221465319721,0],[110.2418960475295,-7.759494621115693,0],[110.2428095972753,-7.759693459931758,0],[110.2430494875577,-7.759316412907424,0],[110.2427757551752,-7.758849932895814,0],[110.243277873326,-7.757750233088759,0],[110.2428149671781,-7.757255299694928,0],[110.2427903432034,-7.756817136926986,0],[110.2423545828401,-7.756869889281241,0],[110.2423765077089,-7.75757221965795,0],[110.2425341231744,-7.758010907243131,0],[110.2423623990038,-7.758733105629655,0],[110.2414260136396,-7.758828885061595,0],[110.2412259692389,-7.759406881031047,0],[110.2408752288868,-7.759974373331906,0],[110.2408708174325,-7.760502608225932,0],[110.2404195727516,-7.760784569744029,0],[110.2398224728803,-7.7606763487031,0],[110.2396826320135,-7.760082367876391,0],[110.2397907072043,-7.759749261369513,0],[110.2403560423378,-7.759557768802877,0],[110.2410187475713,-7.75889491366291,0],[110.2410100391264,-7.757860549705375,0],[110.2413076157768,-7.757440181802238,0],[110.2414673984884,-7.756807507176884,0],[110.2414063500505,-7.75625887857125,0],[110.2405998947495,-7.755852293344195,0],[110.2401090700208,-7.757274771513584,0],[110.2365466572924,-7.756158497981001,0],[110.235521828088,-7.759309533890929,0],[110.2362934029621,-7.759660283530296,0],[110.235820598848,-7.761284081681833,0],[110.2385515441703,-7.762180761178097,0],[110.238800005337,-7.762340325589469,0],[110.2391405945685,-7.763870674771554,0],[110.2386299537774,-7.765682017096418,0],[110.2386618882656,-7.766011631936208,0],[110.2387547905518,-7.766337501299118,0],[110.2390880738477,-7.766943191689547,0],[110.2394979466431,-7.766885804181682,0]]]},"properties":{"name":"Tirtosembodo ( B.Sb.4 5 6) 49 ha","styleUrl":"#msn_ylw-pushpin","styleHash":"-5069e1de","styleMapHash":{"normal":"#sn_ylw-pushpin","highlight":"#sh_ylw-pushpin"},"stroke":"#00ff00","stroke-opacity":1,"fill":"#00ff00","fill-opacity":0.09803921568627451}}]};


$(document).ready(function() {


	L.mapbox.accessToken = 'pk.eyJ1IjoiYXJkaWFuenp6IiwiYSI6InRaWW8yWFEifQ.S5eeIdeJffzKEo2dHXyBjQ';


    var myStyle = {
        "color": "#0087d0",
        "weight": 3,
        "opacity": 0.88
    };


     var style2 = function(feature) {
        switch (feature.geometry.type) {
            case 'LineString': return {color: "#f9c000", "weight": 2, "opacity": 0.88};
            case 'Polygon':   return {color: "#96be00", "weight": 1, "opacity": 0.64};
        }
    };


    var line = new L.geoJson(track, {
        style: myStyle
    });


    var line1 = new L.geoJson(tersier1, {
        style: style2
    });


    


    

    //var markers = L.markerClusterGroup();
    

  


    //map.addLayer(markers);
    //map.addLayer(line);
    //map.fitBounds(line.getBounds());



    var map = L.mapbox.map('map', 'mapbox.satellite', {
    	tileLayer: {
	        maxNativeZoom: 17 // The map will use zoom level 19 tiles for all zoom levels past 19
	    }
    })
    	.setView([-2.5, 118], 12)


    // var featureLayer = L.mapbox.featureLayer()
	   //  .setGeoJSON(track)
	   //  .addTo(map);





	

	var markers = new L.MarkerClusterGroup();
	var titik = [];
    // For each table row, create a marker.
    for (var i = 0; i < point.length; i++) {
        // Blank rows shouldn't be included - they're easy to detect and skip.
        if (point[i].lon === null || point[i].lat === null) continue;
        titik.push([point[i].lon, point[i].lat, point[i].jenis, point[i].nomenclature, point[i].notes, point[i].foto]);
    }

    for (var i = 0; i < titik.length; i++) {
        var a = titik[i];
        var foto = a[5];

        var marker = L.marker(new L.LatLng(a[1], a[0]), {
        	icon: L.mapbox.marker.icon({'marker-symbol': 'camera', 'marker-color': '0044FF'}),
        	foto: foto
        });
        marker.bindPopup('<div class="point-data"><div class="figure"><img src="img/sekunder/sedayu-barat/' + a[5] + '"></div><div class="meta"><div class="name">' + a[3] + '</div></div><div class="lat"><span>Lat</span> :' + a[1] + '</div><div class="long"><span>Long</span> : ' + a[0] + '</div></div></div>');
        markers.addLayer(marker);
    }


    map.addLayer(line);
    map.addLayer(line1);
    map.addLayer(markers);
    map.fitBounds(markers.getBounds());



    function onmove() {
	    // Get the map bounds - the top-left and bottom-right locations.
	    var inBounds = [],
	       bounds = map.getBounds();
           markers.eachLayer(function(marker) {
	        // For each marker, consider whether it is currently visible by comparing
	        // with the current map bounds.
	        if (bounds.contains(marker.getLatLng())) {
	            inBounds.push(marker.options.foto);
	        }
	    });
	    // Display a list of markers.
	    // document.getElementById('coordinates').innerHTML = inBounds.join('<br>');


        // var cList = $('#coordinates')
        // $.each(inBounds, function(i)
        // {
        //     var li = $('<li>'+ inBounds[i] +'</li>')
        //         .appendTo(cList);
        // });
	}

	map.on('move', onmove);

	// call onmove off the bat so that the list is populated.
	// otherwise, there will be no markers listed until the map is moved.
	onmove();



});
</script>

    </div>
</body>

</html>
